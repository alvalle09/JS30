<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Some Array Exercises</title>
</head>
<body>
    <p><em>Results posted in console log</em></p>

    <script>
        // some sample data
        
        const people = [
            { name: 'Fred', year: 1988},
            { name: 'Kit', year: 1980},
            { name: 'Ralph', year: 1970},
            { name: 'Jenkins', year: 1969},
            { name: 'Luther', year: 2018},
        ];

        const comments = [
            { text: 'Love JS!', id: 55654 },
            { text: 'Super Duper!', id: 82342 },
            { text: 'Keep on keeping on!', id: 20398 },
            { text: 'Almost there!', id: 33666 },
            { text: 'Looking good!', id: 22444 },
            { text: 'Nice Job!', id: 19101 },
        ]
        
        // Practice with Some and Every
        /*const isAdult = people.some(function(person) {
            const currentYear = (new Date()).getFullYear();
            if (currentYear - person.year >= 19) {
                return true;
            }
        }); 
        */  

        // Using arrow function instead
        /*const isAdult = people.some(person => {
            const currentYear = (new Date()).getFullYear();
            return currentYear - person.year >= 19;
        }); */

        // Is at least 1 person 19yo
        // further reduced version of above functions
        const isAdult = people.some(person => 
            ((new Date()).getFullYear() - person.year >= 19));
        
        //console.log(isAdult); // will show  true/false
        console.log({isAdult}); // will show prop and value

        // is everyone 19?
        const allAdults = people.every(person => 
            ((new Date()).getFullYear() - person.year >= 19));
        console.log({allAdults}); 

        // Array.prototype.find() // find is like filter, but filter returns an array of items, find returns first item it finds
        /*
        const comment = comments.find(function(comment){
            if(comment.id === 20398 ) {
                return true;
            }
        }); */

        // find single item, reduce to 1 line functino
        const comment = comments.find(comment => comment.id===20398);       
        console.log(comment);

        // Array.prototype.findIndex()        
        const index = comments.findIndex(comment => comment.id === 20398);
        console.log(index);
        // how to delete the index found...
        // Two ways to do this...
        // comments.splice(index, 1); // start at index, go for 1. Mutates the original array

        // popular in redux world...this will create new array and leave original intact
        const newComments = [
            ...comments.slice(0, index),
            ...comments.slice(index + 1) // goes to the end so don't need second parm
        ];

        </script>
</body>
</html>